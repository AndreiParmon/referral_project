# Invite Auth System (Phone-based Login + Invite Codes)

## Stack

* Python 3.12
* Django 5
* Django REST Framework
* PostgreSQL
* Django Templates (UI)
* Docker

---

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ –Ω–æ–º–µ—Ä—É —Ç–µ–ª–µ—Ñ–æ–Ω–∞

1. **POST** `/api/request-code/` ‚Äî –∑–∞–ø—Ä–æ—Å –∫–æ–¥–∞:

   ```json
   {
     "phone": "375331234567"
   }
   ```

   –û—Ç–≤–µ—Ç: `{ "message": "–ö–æ–¥ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω" }`

2. **POST** `/api/verify-code/` ‚Äî –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –∫–æ–¥–∞:

   ```json
   {
     "phone": "375331234567",
     "code": "1234"
   }
   ```

   –û—Ç–≤–µ—Ç:

   ```json
   {
     "token": "...",
     "new_user": true
   }
   ```

---

### –ü—Ä–æ—Ñ–∏–ª—å

3. **GET** `/api/profile/` ‚úÖ –¢—Ä–µ–±—É–µ—Ç—Å—è —Ç–æ–∫–µ–Ω –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏:

   ```http
   Authorization: Token <–≤–∞—à_—Ç–æ–∫–µ–Ω>
   ```

   –û—Ç–≤–µ—Ç:

   ```json
   {
     "phone": "375331234567",
     "invite_code": "A1B2C3",
     "used_invite_code": "Z9X8Y7",
     "invited_users": ["375334445566", "375336667788"]
   }
   ```

---

### –ê–∫—Ç–∏–≤–∞—Ü–∏—è —á—É–∂–æ–≥–æ –∏–Ω–≤–∞–π—Ç-–∫–æ–¥–∞

4. **POST** `/api/activate-invite/` ‚úÖ –¢—Ä–µ–±—É–µ—Ç—Å—è —Ç–æ–∫–µ–Ω –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏:

   ```json
   {
     "invite_code": "Z9X8Y7"
   }
   ```

   –û—Ç–≤–µ—Ç:

   ```json
   {
     "detail": "Invite code activated."
   }
   ```

   –û—à–∏–±–∫–∏:

   * –ï—Å–ª–∏ –∫–æ–¥ –Ω–µ –Ω–∞–π–¥–µ–Ω: `{ "invite_code": ["–ò–Ω–≤–∞–π—Ç-–ö–æ–¥ –Ω–µ –Ω–∞–π–¥–µ–Ω."] }`
   * –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—ã—Ç–∞–µ—Ç—Å—è –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ–π –∫–æ–¥: `{ "detail": "–í—ã –Ω–µ –º–æ–∂–µ—Ç–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ–π —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω–≤–∞–π—Ç-–∫–æ–¥." }`
   * –ï—Å–ª–∏ —É–∂–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω –∫–æ–¥: `{ "detail": "–ò–Ω–≤–∞–π—Ç-–∫–æ–¥ —É–∂–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω." }`

---

## –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

* `//` ‚Äî —Ñ–æ—Ä–º–∞ –¥–ª—è –≤–≤–æ–¥–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞
* `/verify/?phone=...` ‚Äî —Ñ–æ—Ä–º–∞ –¥–ª—è –≤–≤–æ–¥–∞ –∫–æ–¥–∞
* `/profile/` ‚Äî HTML-–ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –∏–Ω–≤–∞–π—Ç-–∫–æ–¥–æ–º –∏ —Å–ø–∏—Å–∫–æ–º –ø—Ä–∏–≥–ª–∞—à—ë–Ω–Ω—ã—Ö

---

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker

### –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

```bash
docker-compose up --build
```

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –Ω–∞ `http://localhost:8000`

---

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API

* Swagger: `http://localhost:8000/api/docs/swagger/`
* ReDoc: `http://localhost:8000/api/docs/redoc/`

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

* `invite_auth/models.py` ‚Äî –∫–∞—Å—Ç–æ–º–Ω–∞—è –º–æ–¥–µ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
* `invite_auth/views.py` ‚Äî API + UI views
* `invite_auth/serializers.py` ‚Äî DRF —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä—ã
* `invite_auth/forms.py` ‚Äî —Ñ–æ—Ä–º—ã Django Templates
* `templates/` ‚Äî HTML —à–∞–±–ª–æ–Ω—ã
* `Dockerfile`, `docker-compose.yml` ‚Äî –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è
* `entrypoint.sh`, `wait-for-it.sh` ‚Äî –∑–∞–ø—É—Å–∫ –∏ –æ–∂–∏–¥–∞–Ω–∏–µ –ë–î

---

## ‚úâÔ∏è Postman

–ö–æ–ª–ª–µ–∫—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞: `postman_collection.json`

---

## –î–µ–ø–ª–æ–π –Ω–∞ PythonAnywhere

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ —Å—Å—ã–ª–∫–µ:

---
